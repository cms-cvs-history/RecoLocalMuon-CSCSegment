process PROD2 = {
   source = PoolSource {
      untracked vstring fileNames = {
         'file:/uscmst1b_scratch/lpc1/lpcmuon/ibloch/dfortin/run_4241_calib/cscsegments-tc-new2.root'
       }
          untracked int32 maxEvents = -1
    	  untracked uint32 debugVebosity = 10
     	  untracked bool   debugFlag     = false
   }
 
   include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   module cscoverlap = CSCMTCCOverlap{
      # Switch on/off the verbosity and turn on/off histogram production
      untracked bool debug = false
      # Label to retrieve RecHits from the event
      untracked string recHitLabel = 'csc2DRecHits'
      untracked string cscSegmentLabel = 'cscSegments'
      # Name of the root file which will contain the output histograms
      untracked string rootFileName = 'overlap_4241_tc.root'
      # Maximum dx/dz slope for segments 
      untracked double maxSlopedxdz = 1.0
      # Maximum dy/dz slope for segments   
      untracked double maxSlopedydz = 1.0
      # Mininum number of hits per segment
      untracked int32 MinNhits = 5
      # Maximum Delta phi distance between origin of segment and extrapolation from other segment: 10 strips = 6.6 - 10.4 cm
      untracked double maxDphi = 0.0233
      # Maximum Delta R distance between origin of segment and extrapolation from other segment: 5 wiregroups = 17.5 cm
      untracked double maxDR = 17.5
      # Maximum diffence in the solid angle between the two segment vectors:
      untracked double minCosTheta12 = 0.
   }


   service = MessageLogger {
      untracked vstring destinations = { "log.txt", "debug.txt", "errors.txt" }
      untracked vstring statistics = { "statistics.txt" }

      # Constrain log.txt to LogInfo output...
      untracked PSet log.txt = { 
         untracked int32 lineLength = 132
         untracked bool noLineBreaks = true
      }
      untracked PSet debug.txt = { 
         untracked string threshold = "DEBUG"
         untracked int32 lineLength = 132
         untracked bool noLineBreaks = true
      } 
      untracked PSet errors.txt = { untracked string threshold = "ERROR" }
      untracked PSet statistics.txt = { untracked string threshold = "INFO" }
   }

	
	path p = {cscoverlap}
}

